-- Script RTX Adaptativo & Sombras Forçadas
local Lighting = game:GetService("Lighting")

local function applyRTX()
    -- 1. FORÇAR TECNOLOGIA DE SOMBRAS (Passa por cima do Nível 1)
    -- O modo "Future" é o que permite sombras reais de luzes e sol simultâneos
    Lighting.Technology = Enum.Technology.Future
    Lighting.GlobalShadows = true
    Lighting.ShadowSoftness = 0 -- Sombras nítidas estilo Ray Tracing
    
    -- 2. RAIOS SOLARES (SunRays) - Efeito de feixes de luz
    local sunRays = Lighting:FindFirstChildOfClass("SunRaysEffect") or Instance.new("SunRaysEffect", Lighting)
    sunRays.Intensity = 0.25
    sunRays.Spread = 1
    
    -- 3. BRILHO RTX (Bloom) - Melhora a luz da lua e lâmpadas
    local bloom = Lighting:FindFirstChildOfClass("BloomEffect") or Instance.new("BloomEffect", Lighting)
    bloom.Intensity = 0.5
    bloom.Size = 24
    bloom.Threshold = 2
    
    -- 4. OCLUSÃO AMBIENTAL (Via ColorCorrection)
    local cc = Lighting:FindFirstChildOfClass("ColorCorrectionEffect") or Instance.new("ColorCorrectionEffect", Lighting)
    cc.Contrast = 0.1
    cc.Saturation = 0.15
    cc.TintColor = Color3.fromRGB(255, 255, 255)
    
    -- 5. FORÇAR SOMBRAS EM TODAS AS LUZES DO MAPA
    -- Isso garante que lâmpadas e lanternas também projetem sombras "Ray Traced"
    for _, light in pairs(workspace:GetDescendants()) do
        if light:IsA("PointLight") or light:IsA("SpotLight") or light:IsA("SurfaceLight") then
            light.Shadows = true
        end
    end
end

-- Execução Imediata
applyRTX()

-- Mantém o efeito ativo mesmo se o jogo tentar resetar
Lighting.Changed:Connect(applyRTX)

